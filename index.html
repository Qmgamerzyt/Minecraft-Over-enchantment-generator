<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Minecraft Enchantment Command Generator</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f0f2f5;
      color: #333;
      padding: 20px;
      display: flex;
      justify-content: center;
    }
    .container {
      background: #fff;
      padding: 20px 30px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      max-width: 600px;
      width: 100%;
    }
    h1 {
      margin-bottom: 10px;
      font-size: 24px;
      text-align: center;
    }
    .controls, .output-section {
      margin-top: 20px;
    }
    .search-bar, select, input, button {
      width: 100%;
      margin: 5px 0;
      padding: 8px;
      font-size: 14px;
      border: 1px solid #ccc;
      border-radius: 4px;
      box-sizing: border-box;
    }
    button {
      background: #28a745;
      color: white;
      cursor: pointer;
      transition: background 0.2s;
    }
    button:hover {
      background: #218838;
    }
    .enchantments div {
      display: flex;
      gap: 10px;
      margin-bottom: 8px;
      align-items: center;
    }
    .enchantments select, .enchantments input {
      flex: 1;
    }
.delete-btn {
  background: #dc3545;
  color: #FFFFFF;
  border: none;
  width: 32px;
  height: 32px;
  border-radius: 4px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  flex: 0 0 auto; 
}
.delete-btn:hover {
  background: #b52a37;
}
    .output-section .output {
      background: #f7f7f7;
      border: 1px solid #ccc;
      border-radius: 4px;
      padding: 10px;
      font-family: monospace;
      font-size: 13px;
      white-space: nowrap;
      overflow-x: auto;
      cursor: text;
      user-select: text;
    }
    .buttons-group {
      display: flex;
      gap: 10px;
      margin-bottom: 10px;
    }
    .warning {
      color: #d9534f;
      font-size: 13px;
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Minecraft Enchantment Command Generator</h1>

    <!-- Searchable Item List -->
    <div class="controls">
      <label for="item-search">Search Item:</label>
      <input type="text" id="item-search" placeholder="Type to search items...">
      <select id="item" size="5"></select>

      <h3>Add Enchantments</h3>
      <div class="enchantments" id="enchantments"></div>
      <button onclick="addEnchantment()">‚ûï Add Enchantment</button>
      <div class="warning">
        ‚ö†Ô∏è Warning: Use only enchantments that are valid for the selected item. Invalid ones may not work in-game.
      </div>
    </div>

    <div class="output-section">
      <div class="buttons-group">
        <button onclick="generateCommand()">Generate Command</button>
        <button onclick="copyCommand()">üìã Copy Command</button>
        <button onclick="resetAll()">‚ôªÔ∏è Reset</button>
      </div>
      <div class="output" id="output" onclick="selectText(this)">Your command will appear here...</div>
    </div>
  </div>

  <script>
    // Full list of enchantable items
    const itemsList = [
      "wooden_sword","stone_sword","iron_sword","golden_sword","diamond_sword","netherite_sword",
      "wooden_pickaxe","stone_pickaxe","iron_pickaxe","golden_pickaxe","diamond_pickaxe","netherite_pickaxe",
      "wooden_axe","stone_axe","iron_axe","golden_axe","diamond_axe","netherite_axe",
      "wooden_shovel","stone_shovel","iron_shovel","golden_shovel","diamond_shovel","netherite_shovel",
      "wooden_hoe","stone_hoe","iron_hoe","golden_hoe","diamond_hoe","netherite_hoe",
      "bow","crossbow","fishing_rod","trident","shield","elytra","shears","flint_and_steel",
      "diamond_helmet","iron_helmet","golden_helmet","chainmail_helmet","leather_helmet",
      "diamond_chestplate","iron_chestplate","golden_chestplate","chainmail_chestplate","leather_chestplate",
      "diamond_leggings","iron_leggings","golden_leggings","chainmail_leggings","leather_leggings",
      "diamond_boots","iron_boots","golden_boots","chainmail_boots","leather_boots"
    ];

    const enchantmentsList = [
      "sharpness","smite","bane_of_arthropods","knockback","fire_aspect","sweeping_edge","looting","efficiency","silk_touch",
      "fortune","unbreaking","mending","protection","blast_protection","projectile_protection","fire_protection","feather_falling",
      "respiration","aqua_affinity","thorns","depth_strider","frost_walker","soul_speed","swift_sneak",
      "infinity","power","punch","flame","multishot","piercing","quick_charge","riptide","impaling","channeling","loyalty"
    ];

    const itemSelect = document.getElementById("item");
    const itemSearch = document.getElementById("item-search");

    function populateItems(filter = "") {
      itemSelect.innerHTML = "";
      const filtered = itemsList.filter(i => i.includes(filter.toLowerCase()));
      filtered.forEach(i => {
        const opt = document.createElement("option");
        opt.value = i;
        opt.textContent = i;
        itemSelect.appendChild(opt);
      });
    }

    itemSearch.addEventListener("input", () => {
      populateItems(itemSearch.value);
    });

    // Initial population
    populateItems();

    function addEnchantment() {
      const container = document.getElementById("enchantments");
      const div = document.createElement("div");
      div.innerHTML = `
        <select>
          ${enchantmentsList.map(e => `<option value="${e}">${e}</option>`).join("")}
        </select>
        <input type="number" placeholder="Level" value="1" min="1" max="255" step="1">
        <button class="delete-btn" onclick="this.parentElement.remove()">X</button>
      `;
      container.appendChild(div);
    }

    function generateCommand() {
      const item = itemSelect.value || itemsList[0];
      const enchDivs = document.querySelectorAll("#enchantments div");
      const enchArr = [];
      enchDivs.forEach(div => {
        const id = div.querySelector("select").value;
        let lvl = parseInt(div.querySelector("input").value);
        if (isNaN(lvl) || lvl < 1) lvl = 1;
        if (lvl > 255) lvl = 255; // auto cap at 255
        enchArr.push(`${id}:${lvl}`);
      });
      const command = enchArr.length > 0 
        ? `/give @p minecraft:${item}[enchantments={${enchArr.join(",")}}]`
        : `/give @p minecraft:${item}`;
      document.getElementById("output").innerText = command;
    }

    function copyCommand() {
      const cmdText = document.getElementById("output").innerText;
      if (!cmdText || cmdText.includes("Your command will appear")) return;
      navigator.clipboard.writeText(cmdText)
        .then(() => alert("Command copied to clipboard!"))
        .catch(err => alert("Failed to copy: " + err));
    }

    function resetAll() {
      document.getElementById("enchantments").innerHTML = "";
      document.getElementById("output").innerText = "Your command will appear here...";
    }

    function selectText(element) {
      const range = document.createRange();
      range.selectNodeContents(element);
      const sel = window.getSelection();
      sel.removeAllRanges();
      sel.addRange(range);
    }
  </script>
</body>
</html>